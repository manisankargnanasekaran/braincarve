<div class="card">
  <div class="card-header">
  <h3>Expenses
   
    <%= link_to "<i class='fa fa-plus'></i>".html_safe, new_expense_path, class: " head-title pull-right" %>
  </h3>
</div>
<div class="card-body">
<table id="order_request_table" class="table table-striped display" cellspacing="0" width="100%">
  
  <thead>
    <tr>
      <th>Description</th>
      <th>Date</th>
      <th>Amount</th>
      <th>Expense category</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @expenses.each do |expense| %>
      <tr>
        <td><%= expense.description %></td>
        <td><%= expense.date.to_date.strftime("%d-%m-%Y") if expense.date %></td>
        <td><%= expense.amount.round if expense.amount %></td>
        <td><%= expense.expense_category.category_name if expense.expense_category %></td>
        <td><%= link_to "<i class='fa fa-eye btn btn-sm btn-orange' title='View Expense'></i>".html_safe, expense %></td> 
        <td><%= link_to "<i class='fa fa-pencil btn btn-sm btn-orange' title='Edit Expense'></i>".html_safe, edit_expense_path(expense) %></td>
        <td><%= link_to "<i class='fa fa-trash btn btn-sm btn-orange' title='Delete Expense'></i>".html_safe, expense, method: :delete, data: { confirm: 'Are you sure?' } %></td> 



      </tr>
    <% end %>
  </tbody>
</table>
</div>
</div>


<br>




<script type="text/javascript">
$(document).ready(function() {
  $("#order_request_table").dataTable({
    columnDefs: [
    {orderable: false, targets: -1},
    {orderable: false, targets: -2},
    {orderable: false, targets: -3},
    ]
  });
});
</script>