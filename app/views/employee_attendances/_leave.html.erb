<div class="modal-dialog modal-lg">
  <div class="modal-content">
 <div class="modal-header">Leave<button type="button" class="close" data-dismiss="modal">&times;</button></div>
<div class="modal-body">
<div class="table">


  <%= form_for(:employee_attendance, :url => {:controller => 'employee_attendances', :action => 'create'}) do |form| %>

 
  <div class="form-group">
    <label>Leave(From - To)</label> 
        <%= text_field_tag :leave_period, "", class: "form-control date_range", id: "leave_period", placeholder: "Leave period" %>
  </div>


   <div class="form-group">
    <%= form.label :reason, "Reason" %>
    <%= form.text_area :reason, class: "form-control", id: :leave_reason %>
  </div>

  <%= form.hidden_field :employee_id, value: params[:id] %>
<br>
  <div class="actions submit_n_cancel">
    <%= form.submit "Apply", class: "btn btn-info btn-sm leave_btn", :onclick => "return validateForm();" %>
  </div>
<% end %>


</div>
</div>
</div>
</div>

<style type="text/css">
  .modal-header{
    background-color: #646873;
  }
  .center{
    align-content: center;  }
</style>
 
<script>
$(document).ready(function() {
  $('#leave_period').flatpickr({
    mode: "range",
    dateFormat: "d-m-Y"
  });
});

function validateForm(){
  if ($('#leave_period').val().length  >  0) {
        return true;
    }
    else {
        sweetAlert("Please choose leave period");
        return false;
    }
}

 
// Difference between two dates

// $('#leave_period').on('change', function () {
//   leave_period = $(this).val();
//   day_count = getdayCount(leave_period);
//   $('#leave_day_count').val(day_count+1);
// });
// function getdayCount(leave_period) {

//     var leave = leave_period.split(" ");
//     var startDate = leave[0].split("-");
//     var endDate = leave[2].split("-");
//     var oneDay = 24*60*60*1000;
//     var firstDate = new Date(startDate[2],startDate[1],startDate[0]);
//     var secondDate = new Date(endDate[2],endDate[1],endDate[0]);
//     var diffDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime())/(oneDay)));
//     return diffDays;
// }
</script>



 <!-- 
  <div class="form-group">
    <%#= form.label :day_count, "Number of Days" %>
    <%#= form.text_field :day_count, class: "form-control", id: :leave_day_count, :readonly=>true %>
  </div> -->